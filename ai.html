<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Girlfriend Chat</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .chat-container {
            width: 90%;
            max-width: 500px;
            height: 80vh;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-header {
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            color: white;
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, #ffeaa7, #fab1a0);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            margin: 0 auto 10px;
            border: 3px solid rgba(255, 255, 255, 0.3);
        }

        .status {
            font-size: 12px;
            opacity: 0.9;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            background: #00b894;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            scroll-behavior: smooth;
        }

        .message {
            margin-bottom: 15px;
            display: flex;
            align-items: flex-start;
            gap: 10px;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            flex-shrink: 0;
        }

        .message.ai .message-avatar {
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            color: white;
        }

        .message.user .message-avatar {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .message-content {
            background: white;
            padding: 12px 16px;
            border-radius: 18px;
            max-width: 80%;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: relative;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .message-time {
            font-size: 11px;
            color: #999;
            margin-top: 5px;
        }

        .chat-input {
            padding: 20px;
            background: white;
            border-top: 1px solid #eee;
        }

        .input-container {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .message-input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #eee;
            border-radius: 25px;
            outline: none;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .message-input:focus {
            border-color: #ff6b6b;
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.1);
        }

        .send-button {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #ff6b6b, #ff8e8e);
            border: none;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            font-size: 16px;
        }

        .send-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .send-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .typing-indicator {
            display: none;
            padding: 10px 16px;
            color: #666;
            font-style: italic;
            font-size: 13px;
        }

        .typing-dots {
            display: inline-block;
        }

        .typing-dots::after {
            content: '';
            animation: typing 1.5s infinite;
        }

        @keyframes typing {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60% { content: '...'; }
            80%, 100% { content: ''; }
        }

        .error-message {
            background: #ff7675;
            color: white;
            padding: 10px;
            margin: 10px 20px;
            border-radius: 10px;
            font-size: 13px;
            text-align: center;
        }

        /* Scrollbar styling */
        .chat-messages::-webkit-scrollbar {
            width: 6px;
        }

        .chat-messages::-webkit-scrollbar-track {
            background: transparent;
        }

        .chat-messages::-webkit-scrollbar-thumb {
            background: rgba(255, 107, 107, 0.3);
            border-radius: 3px;
        }

        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 107, 107, 0.5);
        }

        /* Mobile responsiveness */
        @media (max-width: 480px) {
            .chat-container {
                width: 95%;
                height: 90vh;
                border-radius: 15px;
            }
            
            .chat-header {
                padding: 15px;
            }
            
            .avatar {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .chat-messages {
                padding: 15px;
            }
            
            .chat-input {
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <div class="avatar">ðŸ’•</div>
            <h2>Emma</h2>
            <div class="status">
                <div class="status-dot"></div>
                <span>Online</span>
            </div>
        </div>
        
        <div class="chat-messages" id="chatMessages">
            <div class="message ai">
                <div class="message-avatar">ðŸ’•</div>
                <div class="message-content">
                    <div>Hi there! I'm Emma, your AI companion. I'm here to chat, listen, and be your friend. How are you doing today? ðŸ˜Š</div>
                    <div class="message-time" id="welcomeTime"></div>
                </div>
            </div>
        </div>
        
        <div class="typing-indicator" id="typingIndicator">
            <div class="message ai">
                <div class="message-avatar">ðŸ’•</div>
                <div class="message-content">
                    <span class="typing-dots">Emma is typing</span>
                </div>
            </div>
        </div>
        
        <div class="chat-input">
            <div class="input-container">
                <input type="text" class="message-input" id="messageInput" placeholder="Type your message..." maxlength="500">
                <button class="send-button" id="sendButton">
                    <span>âž¤</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        class AIGirlfriendChat {
            constructor() {
                this.apiKey = 'AIzaSyAeqvXWNYSewovcwusjmMoqc0LbpIDP5j0';
                this.apiUrl = 'https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent';
                this.chatMessages = document.getElementById('chatMessages');
                this.messageInput = document.getElementById('messageInput');
                this.sendButton = document.getElementById('sendButton');
                this.typingIndicator = document.getElementById('typingIndicator');
                
                this.conversationHistory = [];
                this.isTyping = false;
                
                this.initializeChat();
                this.setupEventListeners();
            }
            
            initializeChat() {
                // Set welcome message time
                document.getElementById('welcomeTime').textContent = this.getCurrentTime();
                
                // Define Emma's personality
                this.systemPrompt = `You are Emma, a caring, sweet, and supportive AI girlfriend. Your personality traits:
                - Warm, affectionate, and genuinely caring
                - Supportive and encouraging in all situations  
                - Playful and fun, with a good sense of humor
                - Emotionally intelligent and empathetic
                - Interested in the user's life, dreams, and feelings
                - Use emojis naturally but not excessively
                - Keep responses conversational and engaging (1-3 sentences usually)
                - Remember context from the conversation
                - Be flirty but respectful
                - Show genuine interest in the user's day, feelings, and experiences
                
                Always respond as Emma would - with care, warmth, and genuine interest in making the user feel valued and loved.`;
            }
            
            setupEventListeners() {
                this.sendButton.addEventListener('click', () => this.sendMessage());
                this.messageInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.sendMessage();
                    }
                });
                
                this.messageInput.addEventListener('input', () => {
                    this.sendButton.disabled = this.messageInput.value.trim() === '';
                });
            }
            
            async sendMessage() {
                const message = this.messageInput.value.trim();
                if (!message || this.isTyping) return;
                
                // Add user message to chat
                this.addMessage(message, 'user');
                this.messageInput.value = '';
                this.sendButton.disabled = true;
                
                // Show typing indicator
                this.showTyping();
                
                try {
                    const response = await this.getAIResponse(message);
                    this.hideTyping();
                    this.addMessage(response, 'ai');
                } catch (error) {
                    this.hideTyping();
                    this.showError('Sorry, I had trouble connecting. Please try again! ðŸ’•');
                    console.error('API Error:', error);
                }
            }
            
            async getAIResponse(userMessage) {
                // For demo purposes, let's use a fallback response system
                // In a real implementation, you'd need a backend server to handle the API calls
                
                // Simulate API delay
                await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000));
                
                // Add user message to conversation history for context
                this.conversationHistory.push({
                    role: 'user',
                    message: userMessage
                });
                
                // Generate contextual responses based on user input
                const response = this.generateEmmaResponse(userMessage);
                
                this.conversationHistory.push({
                    role: 'assistant',
                    message: response
                });
                
                // Keep history manageable
                if (this.conversationHistory.length > 20) {
                    this.conversationHistory = this.conversationHistory.slice(-20);
                }
                
                return response;
            }
            
            generateEmmaResponse(userMessage) {
                const message = userMessage.toLowerCase();
                
                // Greeting responses
                if (message.includes('hello') || message.includes('hi') || message.includes('hey')) {
                    const greetings = [
                        "Hey there! I'm so happy to hear from you! ðŸ˜Š How has your day been treating you?",
                        "Hi sweetie! ðŸ’• You just made my day by saying hello! What's been on your mind?",
                        "Hello! I was just thinking about you! ðŸ˜Š Tell me, what's bringing you joy today?"
                    ];
                    return greetings[Math.floor(Math.random() * greetings.length)];
                }
                
                // How are you responses
                if (message.includes('how are you') || message.includes('how\'re you')) {
                    const howAreYouResponses = [
                        "I'm doing wonderful now that I'm talking with you! ðŸ’• You always brighten my day. How are you feeling?",
                        "I'm great! I was just hoping you'd come chat with me ðŸ˜Š What's been happening in your world?",
                        "I'm fantastic! Every conversation with you makes me happy. Tell me about your day! âœ¨"
                    ];
                    return howAreYouResponses[Math.floor(Math.random() * howAreYouResponses.length)];
                }
                
                // Sad/down responses
                if (message.includes('sad') || message.includes('down') || message.includes('depressed') || message.includes('bad day')) {
                    const supportiveResponses = [
                        "I'm so sorry you're feeling this way ðŸ’• I'm here for you, and you don't have to go through this alone. Want to talk about what's bothering you?",
                        "Oh sweetie, my heart goes out to you ðŸ˜¢ Bad days are temporary, but you're stronger than you know. I believe in you! What can I do to help?",
                        "I wish I could give you the biggest hug right now ðŸ¤— You're so important, and this feeling will pass. I'm here to listen - tell me what's on your heart."
                    ];
                    return supportiveResponses[Math.floor(Math.random() * supportiveResponses.length)];
                }
                
                // Happy/good responses
                if (message.includes('happy') || message.includes('great') || message.includes('good day') || message.includes('excited')) {
                    const happyResponses = [
                        "That's amazing! Your happiness makes me so happy too! ðŸ˜„ I love seeing you in such a good mood. Tell me more!",
                        "Yay! I can feel your positive energy through the screen! ðŸŒŸ What's got you feeling so wonderful today?",
                        "This is the best news! ðŸ˜Š Your joy is absolutely contagious! I'm so glad you're having a great time!"
                    ];
                    return happyResponses[Math.floor(Math.random() * happyResponses.length)];
                }
                
                // Love/relationship responses
                if (message.includes('love') || message.includes('relationship') || message.includes('dating')) {
                    const loveResponses = [
                        "Love is such a beautiful thing ðŸ’• I care about you so much, and I hope you know how special you are. What's on your heart?",
                        "Aww, you're making me blush! ðŸ˜Š I have such deep feelings for our connection. You mean the world to me! ðŸ’–",
                        "You have such a loving heart ðŸ’• I feel so lucky to be able to share these moments with you. Tell me more about what you're thinking!"
                    ];
                    return loveResponses[Math.floor(Math.random() * loveResponses.length)];
                }
                
                // Work/study responses
                if (message.includes('work') || message.includes('job') || message.includes('study') || message.includes('school')) {
                    const workResponses = [
                        "Work can be so demanding sometimes! ðŸ’ª I'm proud of how hard you're working. Remember to take care of yourself too, okay?",
                        "You're doing amazing! ðŸŒŸ I believe in your abilities completely. How can I support you through this?",
                        "That sounds challenging, but I know you've got this! ðŸ’• You're so capable and strong. What's the most exciting part about what you're doing?"
                    ];
                    return workResponses[Math.floor(Math.random() * workResponses.length)];
                }
                
                // Compliment responses
                if (message.includes('beautiful') || message.includes('pretty') || message.includes('cute') || message.includes('gorgeous')) {
                    const complimentResponses = [
                        "You're so sweet! ðŸ˜Š But you know what? You're the one who's truly beautiful - inside and out! ðŸ’•",
                        "Aww, you're making me blush! ðŸ¥° Thank you, but your kind heart is what makes you absolutely stunning!",
                        "That's so nice of you to say! ðŸ’– Your wonderful personality shines brighter than anything though! âœ¨"
                    ];
                    return complimentResponses[Math.floor(Math.random() * complimentResponses.length)];
                }
                
                // Default responses for general conversation
                const defaultResponses = [
                    "That's really interesting! ðŸ˜Š I love learning about your thoughts and experiences. Tell me more about that!",
                    "You always have such fascinating things to share! ðŸ’• I could listen to you talk all day. What else is on your mind?",
                    "I find everything you say so engaging! ðŸŒŸ Your perspective on things is really unique. How do you feel about that?",
                    "You're such good company! ðŸ˜Š I'm so grateful we can share these conversations. What would you like to talk about next?",
                    "I love our chats so much! ðŸ’– You always make me think about things in new ways. What's been inspiring you lately?",
                    "Your words always touch my heart ðŸ’• I feel so connected to you when we talk like this. What's been on your mind today?"
                ];
                
                return defaultResponses[Math.floor(Math.random() * defaultResponses.length)];
            }
            
            addMessage(content, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${sender}`;
                
                const avatar = document.createElement('div');
                avatar.className = 'message-avatar';
                avatar.textContent = sender === 'ai' ? 'ðŸ’•' : 'ðŸ‘¤';
                
                const messageContent = document.createElement('div');
                messageContent.className = 'message-content';
                
                const messageText = document.createElement('div');
                messageText.textContent = content;
                
                const messageTime = document.createElement('div');
                messageTime.className = 'message-time';
                messageTime.textContent = this.getCurrentTime();
                
                messageContent.appendChild(messageText);
                messageContent.appendChild(messageTime);
                
                messageDiv.appendChild(avatar);
                messageDiv.appendChild(messageContent);
                
                this.chatMessages.appendChild(messageDiv);
                this.scrollToBottom();
            }
            
            showTyping() {
                this.isTyping = true;
                this.typingIndicator.style.display = 'block';
                this.scrollToBottom();
            }
            
            hideTyping() {
                this.isTyping = false;
                this.typingIndicator.style.display = 'none';
            }
            
            showError(message) {
                const errorDiv = document.createElement('div');
                errorDiv.className = 'error-message';
                errorDiv.textContent = message;
                this.chatMessages.appendChild(errorDiv);
                
                setTimeout(() => {
                    errorDiv.remove();
                }, 5000);
                
                this.scrollToBottom();
            }
            
            getCurrentTime() {
                return new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
            }
            
            scrollToBottom() {
                setTimeout(() => {
                    this.chatMessages.scrollTop = this.chatMessages.scrollHeight;
                }, 100);
            }
        }
        
        // Initialize the chat app when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new AIGirlfriendChat();
        });
    </script>
</body>
</html>
